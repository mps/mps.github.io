/* Fraunces - Display font with optical character */
@import url('https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&display=swap');

/* Newsreader - Optimized for continuous reading */
@import url('https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,300;0,6..72,400;0,6..72,500;0,6..72,600;1,6..72,400;1,6..72,500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply antialiased scroll-smooth;
  }

  /* Light mode (default) */
  body {
    @apply font-body text-neutral-800 bg-neutral-50 leading-relaxed;
    @apply transition-colors duration-300;
  }

  /* Dark mode */
  .dark body {
    @apply text-neutral-200;
    background-color: #0d0d0d;
  }

  /* Subtle paper texture overlay - light mode only */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    z-index: 1000;
  }

  .dark body::before {
    opacity: 0;
  }

  /* Links with animated underlines */
  a {
    @apply text-neutral-800;
    @apply no-underline relative;
    @apply transition-colors duration-200;
  }

  .dark a {
    @apply text-neutral-100;
  }

  a:not(.no-underline-effect)::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: currentColor;
    opacity: 0.3;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  a:not(.no-underline-effect):hover::after {
    transform: scaleX(1);
    opacity: 0.6;
  }

  /* Headings with display font */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-medium tracking-tight;
  }

  h1 {
    @apply text-3xl md:text-4xl;
  }

  h2 {
    @apply text-2xl md:text-3xl;
  }

  /* Selection color - Telegram blue */
  ::selection {
    @apply bg-accent-500/30;
  }
}

@layer components {
  /* Section label style */
  .section-label {
    @apply text-xs uppercase tracking-[0.2em] text-neutral-500;
    @apply font-body font-medium;
    @apply mb-6;
  }

  /* Decorative horizontal rule */
  .hr-decorative {
    @apply border-none h-px my-12;
    @apply bg-gradient-to-r from-transparent via-neutral-300 to-transparent;
  }

  .dark .hr-decorative {
    @apply via-neutral-700;
  }

  /* Accent bar for list items */
  .accent-bar {
    @apply relative pl-4;
    @apply before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5;
    @apply before:bg-accent-500 before:opacity-0;
    @apply before:transition-all before:duration-300;
    @apply hover:before:opacity-100;
  }

  /* Card styling */
  .card {
    @apply p-5 rounded-lg;
    @apply border border-neutral-200 bg-white;
    @apply transition-all duration-300;
    @apply hover:border-neutral-300;
    @apply hover:shadow-sm hover:-translate-y-0.5;
  }

  .dark .card {
    @apply border-neutral-800 bg-neutral-900/50;
    @apply hover:border-neutral-700;
  }

  /* Prose styling for blog content */
  .prose {
    @apply max-w-none;
    @apply text-neutral-700;
    @apply font-body;
  }

  .dark .prose {
    @apply text-neutral-300;
  }

  .prose a {
    @apply text-accent-600 font-medium;
  }

  .dark .prose a {
    @apply text-accent-400;
  }

  .prose a:not(.no-underline-effect)::after {
    @apply bg-accent-500;
  }

  .prose strong {
    @apply text-neutral-900 font-semibold;
  }

  .dark .prose strong {
    @apply text-neutral-100;
  }

  .prose hr {
    @apply border-neutral-200 my-10;
  }

  .dark .prose hr {
    @apply border-neutral-700;
  }

  .prose pre {
    @apply bg-neutral-100 rounded-lg p-5 overflow-x-auto;
    @apply border border-neutral-200;
  }

  .dark .prose pre {
    @apply bg-neutral-900 border-neutral-800;
  }

  .prose code {
    @apply bg-neutral-100 px-1.5 py-0.5 rounded text-sm;
    @apply text-accent-600;
    @apply font-normal;
  }

  .dark .prose code {
    @apply bg-neutral-800 text-accent-300;
  }

  .prose pre code {
    @apply bg-transparent p-0 text-neutral-800;
  }

  .dark .prose pre code {
    @apply text-neutral-200;
  }

  .prose blockquote {
    @apply border-l-2 border-accent-500;
    @apply pl-6 italic;
    @apply text-neutral-600;
    @apply font-body;
  }

  .dark .prose blockquote {
    @apply text-neutral-400;
  }

  .prose ul {
    @apply list-disc pl-6 space-y-2;
  }

  .prose ol {
    @apply list-decimal pl-6 space-y-2;
  }

  .prose li {
    @apply text-neutral-700;
  }

  .dark .prose li {
    @apply text-neutral-300;
  }

  /* Circular image for memorial posts */
  .circular-img {
    @apply w-48 h-48 rounded-full object-cover mx-auto mb-8;
    @apply shadow-lg;
  }

  .dark .circular-img {
    @apply shadow-neutral-900;
  }

  /* Pull quote for featured text */
  .pull-quote {
    @apply font-display text-xl md:text-2xl;
    @apply text-neutral-700;
    @apply border-l-4 border-accent-500;
    @apply pl-6 my-10;
    @apply italic;
  }

  .dark .pull-quote {
    @apply text-neutral-300;
  }

  /* Staggered animation delays */
  .stagger-1 { animation-delay: 0ms; }
  .stagger-2 { animation-delay: 100ms; }
  .stagger-3 { animation-delay: 200ms; }
  .stagger-4 { animation-delay: 300ms; }
  .stagger-5 { animation-delay: 400ms; }
  .stagger-6 { animation-delay: 500ms; }

  /* Initial state for animated elements */
  .animate-on-load {
    opacity: 0;
  }
}

/* Theme toggle button */
.theme-toggle {
  @apply w-8 h-8 rounded-full;
  @apply flex items-center justify-center;
  @apply text-neutral-500;
  @apply hover:text-neutral-900;
  @apply hover:bg-neutral-100;
  @apply transition-all duration-200;
  @apply cursor-pointer;
}

.dark .theme-toggle {
  @apply hover:text-neutral-100;
  @apply hover:bg-neutral-800;
}

/* External link indicator */
.external-link::after {
  content: ' \2197';
  @apply text-neutral-400;
  @apply text-sm;
}

.dark .external-link::after {
  @apply text-neutral-600;
}
